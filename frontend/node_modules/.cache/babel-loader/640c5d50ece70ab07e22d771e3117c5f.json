{"ast":null,"code":"import _regeneratorRuntime from\"C:/forgetech/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/forgetech/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/forgetech/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Navbar from\"./Navbar\";import{useParams}from\"react-router-dom\";import{Row,Col,Button,ListGroup,Image,ListGroupItem}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CryptoJS=require('crypto-js');var Novicepdetails=function Novicepdetails(){var params=useParams();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nproduct=_useState2[0],setnproduct=_useState2[1];useEffect(function(){var fetchProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products/\".concat(params.id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setnproduct(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProduct(){return _ref.apply(this,arguments);};}();fetchProduct();});function AddToCart(){return _AddToCart.apply(this,arguments);}function _AddToCart(){_AddToCart=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:8080/cart/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user:user,product:params.id})});case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;if(data.status===\"Ok\"){alert(\"Added to cart!\");}else{alert(\"Let us check the stock!\");}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _AddToCart.apply(this,arguments);}var _useCookies=useCookies('user'),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var bytes=CryptoJS.AES.decrypt(cookies.user,'my-secret-key@123');var decryptedData=JSON.parse(bytes.toString(CryptoJS.enc.Utf8));var user=decryptedData.email;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Link,{to:\"/novice\",className:\"btn btn-light\",children:[\" \",\"Go Back\"]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:nproduct.image,alt:nproduct.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(\"h3\",{children:nproduct.name})}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\"Price : $\",nproduct.price]}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\" \",nproduct.description,\" \"]})]})}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\" Status: \"}),/*#__PURE__*/_jsx(Col,{children:nproduct.countInStock>0?\"In Stock!\":\"Out of Stock\"})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Button,{onClick:AddToCart,className:\"btn-block\",type:\"button\",children:[\" \",\"Add to cart\",\" \"]})})]})]})]});};export default Novicepdetails;","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","useParams","Row","Col","Button","ListGroup","Image","ListGroupItem","Link","useCookies","CryptoJS","require","Novicepdetails","params","nproduct","setnproduct","fetchProduct","get","id","data","AddToCart","fetch","method","headers","body","JSON","stringify","user","product","res","json","status","alert","cookies","bytes","AES","decrypt","decryptedData","parse","toString","enc","Utf8","email","image","name","price","description","countInStock"],"sources":["C:/forgetech/frontend/src/Novicepdetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"./Navbar\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  ListGroup,\r\n  Image,\r\n  ListGroupItem,\r\n} from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {useCookies} from 'react-cookie';\r\nvar CryptoJS = require('crypto-js');\r\n\r\n\r\nconst Novicepdetails = () => {\r\n  const params = useParams();\r\n  const [nproduct, setnproduct] = useState([]);\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      const { data } = await axios.get(`/api/products/${params.id}`);\r\n      setnproduct(data);\r\n    };\r\n    fetchProduct();\r\n  });\r\n\r\n  async function AddToCart () {\r\n    const res = await fetch('http://localhost:8080/cart/add',{\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          user,\r\n          product: params.id\r\n        }) \r\n      \r\n    })\r\n    const data = await res.json()\r\n    if (data.status===\"Ok\") {\r\n      alert(\"Added to cart!\")\r\n    \r\n    }\r\n    else {\r\n      alert(\"Let us check the stock!\")\r\n    }\r\n  }\r\n\r\n  const [cookies] = useCookies('user');\r\n    var bytes = CryptoJS.AES.decrypt(cookies.user, 'my-secret-key@123');\r\n    var decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n    const user = decryptedData.email;\r\n\r\n  return (\r\n     \r\n    <div>\r\n      <Navbar />\r\n      <Link to=\"/novice\" className=\"btn btn-light\">\r\n        {\" \"}\r\n        Go Back\r\n      </Link>\r\n      <Row>\r\n        <Col md={6}>\r\n          <Image src={nproduct.image} alt={nproduct.name} fluid />\r\n        </Col>\r\n        <Col md={3}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroupItem>\r\n              <h3>{nproduct.name}</h3>\r\n            </ListGroupItem>\r\n            <ListGroupItem>Price : ${nproduct.price}</ListGroupItem>\r\n            <ListGroupItem> {nproduct.description} </ListGroupItem>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={3}>\r\n          <ListGroupItem>\r\n            <Row>\r\n              <Col> Status: </Col>\r\n              <Col>\r\n                {nproduct.countInStock > 0 ? \"In Stock!\" : \"Out of Stock\"}\r\n              </Col>\r\n            </Row>\r\n          </ListGroupItem>\r\n          <ListGroupItem>\r\n            <Button onClick={AddToCart} className=\"btn-block\" type=\"button\">\r\n              {\" \"}\r\n              Add to cart{\" \"}\r\n            </Button>\r\n          </ListGroupItem>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Novicepdetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}