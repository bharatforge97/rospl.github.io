{"ast":null,"code":"import _regeneratorRuntime from\"C:/forgetech/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/forgetech/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/forgetech/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CryptoJS=require('crypto-js');export default function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useCookies=useCookies('user'),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];function loginUser(){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var handle,res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:handle=function handle(){if(cookies){removeCookie('user');}var user={email:email};var ciphertext=CryptoJS.AES.encrypt(JSON.stringify(user),'my-secret-key@123').toString();setCookie('user',ciphertext,{path:'/'});};_context.next=3;return fetch('http://localhost:8080/login',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;if(data.status==='verified'){alert('Login Successful');handle();window.location.href='/';}else{alert(data.status);}case 8:case\"end\":return _context.stop();}}},_callee);}));return _loginUser.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{class:\"container\",style:{marginTop:\"8em\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-4 my-3 p-5 border border-body rounded\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row mb-3 text-center\",style:{alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"h4\",{style:{alignItems:\"center\",color:\"black\"},children:\"LOGIN\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",for:\"form2Example1\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"form2Example1\",value:email,onChange:function onChange(e){setEmail(e.target.value);},class:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",for:\"form2Example2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"form2Example2\",value:password,onChange:function onChange(e){setPassword(e.target.value);},class:\"form-control\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row mb-4\"}),/*#__PURE__*/_jsx(\"div\",{class:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:loginUser,class:\"btn btn-primary btn-block mb-4 col-11 shadow-sm\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Need an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]})})]})]})})});}","map":{"version":3,"names":["React","useState","useCookies","CryptoJS","require","Login","email","setEmail","password","setPassword","cookies","setCookie","removeCookie","loginUser","handle","user","ciphertext","AES","encrypt","JSON","stringify","toString","path","fetch","method","headers","body","res","json","data","status","alert","window","location","href","marginTop","alignItems","color","e","target","value"],"sources":["C:/forgetech/frontend/src/Account.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport {useCookies} from 'react-cookie';\r\nvar CryptoJS = require('crypto-js');\r\nexport default function Login() {\r\n\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const [cookies, setCookie,removeCookie] = useCookies('user');\r\n    async function loginUser(){\r\n  \r\n      const handle = () => {\r\n        if(cookies){\r\n        removeCookie('user');\r\n        }\r\n        var user = { email: email }\r\n        var ciphertext = CryptoJS.AES.encrypt(JSON.stringify(user), 'my-secret-key@123').toString();\r\n        setCookie('user', ciphertext, { path: '/' });\r\n     };\r\n  \r\n      const res = await fetch('http://localhost:8080/login',{\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept':'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          email,\r\n          password\r\n        })\r\n      })\r\n      const data = await res.json();\r\n      if(data.status==='verified'){\r\n        alert('Login Successful')\r\n        handle()\r\n        window.location.href = '/';\r\n      }\r\n      else{\r\n        alert(data.status)\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div class=\"container\" style={{marginTop: \"8em\"}}>\r\n        <div class=\"row justify-content-center\">\r\n            <div class=\"col-4 my-3 p-5 border border-body rounded\">\r\n                <div class=\"row mb-3 text-center\" style={{alignItems: \"center\"}}>\r\n                    <h4 style={{alignItems: \"center\",color:\"black\"}}>LOGIN</h4>\r\n                </div>\r\n                <form>\r\n                    \r\n                    <div class=\"form-outline mb-4\">\r\n                        <label class=\"form-label\" for=\"form2Example1\">Email address</label>\r\n                        <input type=\"email\" id=\"form2Example1\" value={email}\r\n       onChange = {(e)=>{setEmail(e.target.value)}} class=\"form-control\" />\r\n                    </div>\r\n\r\n                    \r\n                    <div class=\"form-outline mb-4\">\r\n                        <label class=\"form-label\" for=\"form2Example2\">Password</label>\r\n                        <input type=\"password\" id=\"form2Example2\" value={password}\r\n       onChange = {(e)=>{setPassword(e.target.value)}} class=\"form-control\" />\r\n                    </div>\r\n\r\n                    \r\n                    <div class=\"row mb-4\">\r\n                        {/* <div class=\"col d-flex justify-content-center\">\r\n                            \r\n                            <div class=\"form-check\">\r\n                                <label class=\"form-check-label\" for=\"form2Example31\"> Remember me </label>\r\n                                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"form2Example31\" checked />\r\n                            </div>\r\n                        </div> */}\r\n\r\n                        {/* <div class=\"col\">\r\n                            \r\n                            <a href=\"#!\">Forgot password?</a>\r\n                        </div> */}\r\n                    </div>\r\n\r\n                    \r\n                    <div class=\"row justify-content-center\">\r\n\r\n                        <button type=\"button\" onClick = {loginUser} class=\"btn btn-primary btn-block mb-4 col-11 shadow-sm\">Login</button>\r\n                    </div>\r\n\r\n                    \r\n                    <div class=\"text-center\">\r\n                        <p>Need an account? <a href=\"/register\">Register</a></p>\r\n                        {/* <p>or sign up with:</p>\r\n                        <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                            <a href=\"#\"><i class=\"fab fa-facebook-f\"></i></a>\r\n                        </button>\r\n\r\n                        <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                            <a href=\"#\"><i class=\"fab fa-google\"></i></a>\r\n                        </button>\r\n\r\n                        <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                            <a href=\"#\"><i class=\"fab fa-twitter\"></i></a>\r\n                        </button>\r\n\r\n                        <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                            <a href=\"#\"><i class=\"fab fa-github\"></i></a>\r\n                        </button> */}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}